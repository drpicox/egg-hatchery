!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).EggHatchery=t()}(this,(function(){"use strict";var e=Object.defineProperty,t=function(){var t;return[function(n){var r=n.tool,o=Object.create(null),i=Object.freeze(Object.create(o)),c=Object.create(null);r("breed",(function(t,r){!function(){if(n.isHatched())throw new Error("breed a hatching breed fails when hatch is finished")}(),function(e){if(!e||"string"!=typeof e)throw new Error('invalid breed name, expected the first argument to be a non-empty string but received "'+e+'"')}(t),function(e){if("function"!=typeof e)throw new Error('invalid breed function, expected the second argument to be a function but received "'+e+'"')}(r);var f=c[t],a=function(){if(!n.isHatched())throw new Error("breeds object cannot be used until eggs hatch");e(o,t,{get:f,configurable:!0});var c=r(i);return e(o,t,{value:c,configurable:!0}),c};c[t]=a,e(o,t,{get:a,configurable:!0})})),t=i},function(){return t}]};function n(){var e=Object.create(null),t=!1,n=function(){if(t)throw new Error("invalid state exception, cannot use tools once the egg is hatched")};return e.tool=function(t,r){if(!t||"string"!=typeof t)throw new Error('invalid tool name, expected the first argument to be a non-empty string but received "'+t+'"');if(n(),"function"==typeof r){var o=r;r=function(){n(),o.apply(void 0,arguments)}}e[t]=r},e.isHatched=function(){return t},[Object.freeze(Object.create(e)),function(){return t=!0}]}function r(){var e=new Set;function t(n){for(var r=0;r<n.length;r++)Array.isArray(n[r])?t(n[r]):e.add(n[r])}for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t(r),[].concat(e)}function o(e){for(var t=0;t<e.length;t++)if("function"!=typeof e[t])throw new Error('received egg is not an egg, expected a function but received "'+e[t]+'"')}function i(e,t){for(var n=0;n<e.length;n++)e[n](t)}return function(){for(var e=n(),c=e[0],f=e[1],a=t(),u=a[0],d=a[1],h=arguments.length,l=new Array(h),g=0;g<h;g++)l[g]=arguments[g];var s=r(u,l);o(s),i(s,c);var b=d();return f(),b}}));
//# sourceMappingURL=egg-hatchery.umd.min.js.map
